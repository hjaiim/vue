<template>	<div class="wrap-page relative">		<div class="login-wrap is-transformed gray-shadow">			<p class="login-tit">登录创客沃土</p>			<form-input placeholder="请输入登录名" type="text" v-model="account"></form-input>			<form-input type="password" placeholder="请输入密码" errmsg="请输入正确的密码" class="sj-psd"						v-model="password"></form-input>			<p class="link-forget clear">				<span class="forget-psd right draw-line" @click="onClick_forgetPwdBtn">忘记密码？</span>			</p>			<div class="pointer login-btn ani-time" @click="onClick_loginBtn">登录</div>			<div class="link-keys ">没有账号？<span class="ani-time pointer" @click="onClick_registerBtn">立即注册>></span>			</div>		</div>	</div></template><script type="text/ecmascript-6">	import g from './../../global';	import sha256 from 'sha256';	import FormInput from "../../components/formInput.vue"	var _formData = {};	export default {		created()		{			this.init();		},		data()		{			return {				g: g,				account: '',				password: ''			}		},		watch: {			account: function (newData, oldData)			{				if (this.account != '' && this.password != '')				{					this.disabledBtn = false;				}				else				{					this.disabledBtn = true;				}			},			password: function (oldData, newData)			{				if (this.account != '' && this.password != '')				{					this.disabledBtn = false				}				else				{					this.disabledBtn = true;				}			}		},		components: {			FormInput		},		methods: {			init()			{				if (g.core.onMode("testData"))				{					this.account = "jasmine";					this.password = "1qaz2wsx";				}			},			onClick_forgetPwdBtn()			{				g.url = "/resetpwd";			},			onClick_loginBtn()			{				_formData.logon = this.account;				_formData.password = sha256(this.password);				g.net.call('user/login', _formData).then((d) =>				{					g.data.save('loginTime', g.timeTool.getNowStamp());					g.data.userInfo.update(d);					g.data.rightPool.update(d.permissionList);					g.event.dispatchEvent('APP_IS_LOGIN');				}, (err) =>				{					g.func.dealErr(err);				});			},			onClick_registerBtn()			{				g.url = "/register";			},		}	}</script><style lang="sass" rel="stylesheet/scss" type="text/scss">	@import "../../css/base";	@import "../../css/common";	@import "../../css/login";</style>